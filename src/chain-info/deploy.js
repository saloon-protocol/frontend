import { ethers } from 'ethers';
import bproxyaby from './abi/BountyProxy.sol/BountyProxy.json'
const provider = new ethers.providers.Web3Provider(window.ethereum);
let signer;

const [web3Provider, setWeb3Provider] = useState(null);

async function connectWallet() {
    try {
      let web3Modal = new Web3Modal({
        cacheProvider:false,
        provider,
      });
      const web3ModalInstance = await web3Modal.connect();
      const web3ModalProvider = new ethers.providers.Web3Provider(web3ModalInstance);
      if(web3ModalProvider){
        setWeb3Provider(web3ModalProvider);
      }
      signer = await provider.getSigner();
    } catch(error){
      console.error(error);
    }
  }

async function deployContract() {
    const BountyProxyAbi = bproxyaby;
    const bytecode = '0x60806040523661001357610011610017565b005b6100115b610027610022610067565b61009f565b565b606061004e8383604051806060016040528060278152602001610268602791396100c3565b9392505050565b90565b6001600160a01b03163b151590565b600061009a7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e8080156100be573d6000f35b3d6000fd5b6060600080856001600160a01b0316856040516100e09190610218565b600060405180830381855af49150503d806000811461011b576040519150601f19603f3d011682016040523d82523d6000602084013e610120565b606091505b50915091506101318683838761013b565b9695505050505050565b606083156101ac5782516101a5576001600160a01b0385163b6101a55760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064015b60405180910390fd5b50816101b6565b6101b683836101be565b949350505050565b8151156101ce5781518083602001fd5b8060405162461bcd60e51b815260040161019c9190610234565b60005b838110156102035781810151838201526020016101eb565b83811115610212576000848401525b50505050565b6000825161022a8184602087016101e8565b9190910192915050565b60208152600082518060208401526102538160408501602087016101e8565b601f01601f1916919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220e262e4e63d2fe222f9056eda11f14d46ac1011ea57ed322737a88ef8cb3cc5e864736f6c634300080a0033';
}